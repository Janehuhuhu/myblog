(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{441:function(t,s,a){"use strict";a.r(s);var n=a(45),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h3",{attrs:{id:"history-å’Œ-hash-æ¨¡å¼"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#history-å’Œ-hash-æ¨¡å¼"}},[t._v("#")]),t._v(" history å’Œ hash æ¨¡å¼")]),t._v(" "),a("hr"),t._v(" "),a("h3",{attrs:{id:"ç®€ä»‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç®€ä»‹"}},[t._v("#")]),t._v(" ç®€ä»‹")]),t._v(" "),a("p",[a("code",[t._v("vue")]),t._v(" æ˜¯æ¸è¿›å¼å‰ç«¯å¼€å‘æ¡†æ¶ï¼Œä¸ºäº†å®ç° "),a("code",[t._v("SPA")]),t._v(" ï¼Œéœ€è¦å¼•å…¥å‰ç«¯è·¯ç”±ç³»ç»Ÿï¼ˆ"),a("code",[t._v("vue-router")]),t._v("ï¼‰ã€‚å‰ç«¯è·¯ç”±çš„æ ¸å¿ƒæ˜¯ï¼šæ”¹å˜è§†å›¾çš„åŒæ—¶ä¸ä¼šå‘åç«¯å‘å‡ºè¯·æ±‚ã€‚ä¸ºäº†è¾¾åˆ°è¿™ä¸€ç›®çš„ï¼Œæµè§ˆå™¨æä¾›äº† "),a("code",[t._v("hash")]),t._v(" å’Œ "),a("code",[t._v("history")]),t._v(" ä¸¤ç§æ¨¡å¼ã€‚")]),t._v(" "),a("p",[a("code",[t._v("hash")]),t._v(" è™½ç„¶å‡ºç°åœ¨ "),a("code",[t._v("URL")]),t._v(" ä¸­ï¼Œä½†ä¸ä¼šè¢«åŒ…å«åœ¨ "),a("code",[t._v("http")]),t._v(" è¯·æ±‚ä¸­ï¼Œå¯¹åç«¯å®Œå…¨æ²¡æœ‰å½±å“ï¼Œå› æ­¤æ”¹å˜ "),a("code",[t._v("hash")]),t._v(" ä¸ä¼šé‡æ–°åŠ è½½é¡µé¢ã€‚")]),t._v(" "),a("p",[a("code",[t._v("history")]),t._v(" åˆ©ç”¨äº† "),a("code",[t._v("html5 history interface")]),t._v(" ä¸­æ–°å¢çš„ "),a("code",[t._v("pushState()")]),t._v(" å’Œ "),a("code",[t._v("replaceState()")]),t._v(" æ–¹æ³•ã€‚è¿™ä¸¤ä¸ªæ–¹æ³•åº”ç”¨äºæµè§ˆå™¨è®°å½•æ ˆï¼Œåœ¨å½“å‰å·²æœ‰çš„ "),a("code",[t._v("backã€forwardã€go")]),t._v(" åŸºç¡€ä¹‹ä¸Šï¼Œå®ƒä»¬æä¾›äº†å¯¹å†å²è®°å½•ä¿®æ”¹çš„åŠŸèƒ½ã€‚åªæ˜¯å½“å®ƒä»¬æ‰§è¡Œä¿®æ”¹æ—¶ï¼Œè™½ç„¶æ”¹å˜äº†å½“å‰çš„ "),a("code",[t._v("URL")]),t._v(" ï¼Œä½†æµè§ˆå™¨ä¸ä¼šç«‹å³å‘åç«¯å‘é€è¯·æ±‚ã€‚å› æ­¤å¯ä»¥è¯´ï¼Œ "),a("code",[t._v("hash")]),t._v(" æ¨¡å¼å’Œ "),a("code",[t._v("history")]),t._v(" æ¨¡å¼éƒ½å±äºæµè§ˆå™¨è‡ªèº«çš„å±æ€§ï¼Œ"),a("code",[t._v("vue-router")]),t._v(" åªæ˜¯åˆ©ç”¨äº†è¿™ä¸¤ä¸ªç‰¹æ€§ï¼ˆé€šè¿‡è°ƒç”¨æµè§ˆå™¨æä¾›çš„æ¥å£ï¼‰æ¥å®ç°è·¯ç”±ã€‚\n")]),a("div",{staticStyle:{"margin-top":"50px"}}),a("p"),t._v(" "),a("h3",{attrs:{id:"åŸç†"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åŸç†"}},[t._v("#")]),t._v(" åŸç†")]),t._v(" "),a("h4",{attrs:{id:"_1-hash"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-hash"}},[t._v("#")]),t._v(" 1. hash")]),t._v(" "),a("p",[a("code",[t._v("hash")]),t._v(" æ¨¡å¼çš„åŸç†æ˜¯ "),a("code",[t._v("onhashchange")]),t._v(" äº‹ä»¶ï¼Œå¯ä»¥åœ¨ "),a("code",[t._v("window")]),t._v(" å¯¹è±¡ä¸Šç›‘å¬è¿™ä¸ªäº‹ä»¶ã€‚")]),t._v(" "),a("p",[a("code",[t._v("hash")]),t._v(" å‘ç”Ÿå˜åŒ–çš„ "),a("code",[t._v("url")]),t._v(" éƒ½ä¼šè¢«æµè§ˆå™¨è®°å½•ä¸‹æ¥ï¼Œä»è€Œä½ ä¼šå‘ç°æµè§ˆå™¨çš„å‰è¿›åé€€éƒ½å¯ä»¥ä½¿ç”¨äº†ï¼ŒåŒæ—¶ç‚¹å‡»åé€€æ—¶ï¼Œé¡µé¢å­—ä½“é¢œè‰²ä¹Ÿä¼šå‘ç”Ÿå˜åŒ–ã€‚è¿™æ ·ä¸€æ¥è™½ç„¶æ²¡æœ‰å‘åç«¯å‘é€è¯·æ±‚ï¼Œä½†æ˜¯é¡µé¢çŠ¶æ€å’Œ "),a("code",[t._v("url")]),t._v(" å…³è”åœ¨äº†ä¸€èµ·ï¼Œè¿™å°±æ˜¯å‰ç«¯è·¯ç”±")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onhashchange")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("event")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("event"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("oldURL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" event"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("newURL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" hash "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" location"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("hash"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("slice")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("style"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("color "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" hash"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("div",{staticStyle:{"margin-top":"30px"}}),t._v(" "),a("h4",{attrs:{id:"_2-history"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-history"}},[t._v("#")]),t._v(" 2. history")]),t._v(" "),a("p",[a("code",[t._v("hashchange")]),t._v(" åªèƒ½æ”¹å˜ "),a("strong",[t._v("#")]),t._v(" åé¢çš„ä»£ç ç‰‡æ®µï¼Œ"),a("code",[t._v("history api ï¼ˆpushStateã€replaceStateã€goã€backã€forwardï¼‰")]),t._v(" åˆ™ç»™äº†å‰ç«¯å®Œå…¨çš„è‡ªç”±ï¼Œé€šè¿‡åœ¨ "),a("code",[t._v("window")]),t._v(" å¯¹è±¡ä¸Šç›‘å¬ "),a("code",[t._v("popState()")]),t._v(" äº‹ä»¶")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("pushState")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ã€replaceState")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" æ–¹æ³•æ¥æ”¶ä¸‰ä¸ªå‚æ•°ï¼šstateObjã€titleã€urlã€‚\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è®¾ç½®çŠ¶æ€")]),t._v("\nhistory"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("pushState")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("color"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"red"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"red"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"red"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç›‘å¬çŠ¶æ€")]),t._v("\nwindow"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onpopstate")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("event")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("event"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("state"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("event"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("state "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" event"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("state"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("color "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"red"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("style"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("color "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"red"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ”¹å˜çŠ¶æ€")]),t._v("\nhistory"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("back")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nhistory"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("forward")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("é€šè¿‡ "),a("code",[t._v("pushState")]),t._v(" æŠŠé¡µé¢çš„çŠ¶æ€ä¿å­˜åœ¨ "),a("code",[t._v("state")]),t._v(" å¯¹è±¡ä¸­ï¼Œå½“é¡µé¢çš„ "),a("code",[t._v("url")]),t._v(" å†å˜å›åˆ°è¿™ä¸ª "),a("code",[t._v("url")]),t._v(" æ—¶ï¼Œå¯ä»¥é€šè¿‡ "),a("code",[t._v("event.state")]),t._v(" å–åˆ°è¿™ä¸ª "),a("code",[t._v("state")]),t._v(" å¯¹è±¡ï¼Œä»è€Œå¯ä»¥å¯¹é¡µé¢çŠ¶æ€è¿›è¡Œè¿˜åŸï¼Œå¦‚é¡µé¢æ»šåŠ¨æ¡çš„ä½ç½®ã€é˜…è¯»è¿›åº¦ã€ç»„ä»¶çš„å¼€å…³ç­‰")]),t._v(" "),a("div",{staticStyle:{"margin-top":"50px"}}),t._v(" "),a("h3",{attrs:{id:"ğŸ”—ç›¸å…³é“¾æ¥"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ”—ç›¸å…³é“¾æ¥"}},[t._v("#")]),t._v(" ğŸ”—ç›¸å…³é“¾æ¥")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://juejin.cn/post/6844903625169502216",target:"_blank",rel:"noopener noreferrer"}},[t._v("historyå’Œhashæ¨¡å¼çš„åŒºåˆ«"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://blog.csdn.net/Charissa2017/article/details/104779412",target:"_blank",rel:"noopener noreferrer"}},[t._v("historyå’Œhashæ¨¡å¼è¯¦è§£"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://www.jianshu.com/p/bb5f9263e169",target:"_blank",rel:"noopener noreferrer"}},[t._v("replaceStateå’ŒpushStateçš„åŒºåˆ«"),a("OutboundLink")],1)])])])}),[],!1,null,null,null);s.default=e.exports}}]);