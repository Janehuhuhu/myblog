<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>1. 获取样式 | 小生天地</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/logo.jpeg">
    <meta name="description" content="小生学习天地">
    
    <link rel="preload" href="/assets/css/0.styles.c8e23b86.css" as="style"><link rel="preload" href="/assets/js/app.3655608f.js" as="script"><link rel="preload" href="/assets/js/2.e83ebbf9.js" as="script"><link rel="preload" href="/assets/js/11.d4ade188.js" as="script"><link rel="prefetch" href="/assets/js/10.53fa9364.js"><link rel="prefetch" href="/assets/js/12.c05a3356.js"><link rel="prefetch" href="/assets/js/13.3a9d4170.js"><link rel="prefetch" href="/assets/js/14.f3f518b1.js"><link rel="prefetch" href="/assets/js/15.090cc4e6.js"><link rel="prefetch" href="/assets/js/16.c12119d5.js"><link rel="prefetch" href="/assets/js/17.c0f6be94.js"><link rel="prefetch" href="/assets/js/18.0c250965.js"><link rel="prefetch" href="/assets/js/19.4672f52a.js"><link rel="prefetch" href="/assets/js/20.8106eb54.js"><link rel="prefetch" href="/assets/js/21.8f09e617.js"><link rel="prefetch" href="/assets/js/22.66e57d40.js"><link rel="prefetch" href="/assets/js/23.0f20d4d8.js"><link rel="prefetch" href="/assets/js/3.2293ae9f.js"><link rel="prefetch" href="/assets/js/4.5b970e20.js"><link rel="prefetch" href="/assets/js/5.9dde93e4.js"><link rel="prefetch" href="/assets/js/6.7ff3b843.js"><link rel="prefetch" href="/assets/js/7.9978ed26.js"><link rel="prefetch" href="/assets/js/8.e7f013f7.js"><link rel="prefetch" href="/assets/js/9.26a81b9d.js">
    <link rel="stylesheet" href="/assets/css/0.styles.c8e23b86.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.jpeg" alt="小生天地" class="logo"> <span class="site-name can-hide">小生天地</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="https://github.com/dwanda" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="https://github.com/dwanda" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><h4 id="_1-获取样式"><a href="#_1-获取样式" class="header-anchor">#</a> 1. 获取样式</h4> <h5 id="_1-行间样式"><a href="#_1-行间样式" class="header-anchor">#</a> (1)行间样式</h5> <div class="language-js extra-class"><pre class="language-js"><code>   obj<span class="token punctuation">.</span>style<span class="token punctuation">.</span>属性     <span class="token comment">//可用该方式获取行间样式，Obj.style.属性 = *** 可以用于设置行间或非行间样式。</span>
</code></pre></div><h5 id="_2-非行间样式"><a href="#_2-非行间样式" class="header-anchor">#</a> (2) 非行间样式</h5> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">function</span> <span class="token function">getStyle</span><span class="token punctuation">(</span><span class="token parameter">obj<span class="token punctuation">,</span> name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>   
    <span class="token keyword">if</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>currentStyle<span class="token punctuation">)</span> <span class="token punctuation">{</span>  
      <span class="token keyword">return</span> obj<span class="token punctuation">.</span>currentStyle<span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token comment">// IE  </span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>  
      <span class="token keyword">return</span> <span class="token function">getComputedStyle</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token comment">// Chrome, FF  </span>
    <span class="token punctuation">}</span>     
  <span class="token punctuation">}</span>
</code></pre></div><h4 id="_2-定时器"><a href="#_2-定时器" class="header-anchor">#</a> 2. 定时器</h4> <h5 id="_1-延时提示框"><a href="#_1-延时提示框" class="header-anchor">#</a> (1) 延时提示框</h5> <p>  a. 基本功能：移入红框(div1)时，灰框(div2)显示；移出时，灰框消失；<br>
  b. 注意：红框移入灰框时，需要灰框显示，所以需要定时器；灰框移入红框时，为避免闪动，所以需用定时器；<br></p><p align="center"><image src="https://github.com/Janehuhuhu/study/blob/master/JS/images/11.png" width="200px" height="150px"></image></p><p></p> <p>  c. 代码</p> <div class="language-js extra-class"><pre class="language-js"><code>   <span class="token keyword">var</span> oDiv1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'div1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token keyword">var</span> oDiv2 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'div2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token keyword">var</span> timer <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
   oDiv1<span class="token punctuation">.</span>onmouseover <span class="token operator">=</span> oDiv2<span class="token punctuation">.</span><span class="token function-variable function">onmouseover</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">clearTimerout</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span><span class="token punctuation">;</span>
      oDiv2<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">'block'</span><span class="token punctuation">;</span>  <span class="token comment">//oDiv2.onmouseover部分本可以不加(为了代码合并复用)</span>
   <span class="token punctuation">}</span>
   oDiv1<span class="token punctuation">.</span>onmouseout <span class="token operator">=</span> oDiv2<span class="token punctuation">.</span><span class="token function-variable function">onmouseout</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      timer <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
         oDiv2<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">'none'</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>  
</code></pre></div><h5 id="_2-无缝滚动-原生"><a href="#_2-无缝滚动-原生" class="header-anchor">#</a> (2) 无缝滚动(原生)</h5> <p>  a. 注意：添加一倍的图片，向左移动时，左边距小于长度一半时，图片拖到最左边；向右移动时，左边距大于0时，图片拖到一半处；<br></p><p align="center"><image src="https://github.com/Janehuhuhu/study/blob/master/JS/images/12.gif" width="500px" height="150px"></image></p>
  b. 代码<p></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
   <span class="token keyword">var</span> oDiv <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'div1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token keyword">var</span> oUl <span class="token operator">=</span> oDiv<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">'ul'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
   <span class="token keyword">var</span> aLi <span class="token operator">=</span> oUl<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">'li'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token keyword">var</span> speed <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">;</span>  <span class="token comment">// 速度</span>
   oUl<span class="token punctuation">.</span>innerHTML <span class="token operator">+=</span> oUl<span class="token punctuation">.</span>innerHTML<span class="token punctuation">;</span>  <span class="token comment">// 增加一倍图片</span>
   oUl<span class="token punctuation">.</span>style<span class="token punctuation">.</span>width <span class="token operator">=</span> aLi<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>offsetWidth <span class="token operator">*</span> aLi<span class="token punctuation">.</span>length<span class="token operator">+</span><span class="token string">'px'</span><span class="token punctuation">;</span> <span class="token comment">// offsetWidth：图片宽度</span>
   
   <span class="token comment">// 移动</span>
   <span class="token keyword">function</span> <span class="token function">move</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>oUl<span class="token punctuation">.</span>offsetLeft <span class="token operator">&lt;</span> <span class="token operator">-</span>oUl<span class="token punctuation">.</span>offsetWidth<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment">// offsetLeft：左边距</span>
         oUl<span class="token punctuation">.</span>style<span class="token punctuation">.</span>left <span class="token operator">=</span> <span class="token string">'0'</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>oUl<span class="token punctuation">.</span>offsetLeft <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
         oUl<span class="token punctuation">.</span>style<span class="token punctuation">.</span>left <span class="token operator">=</span><span class="token operator">-</span> oUl<span class="token punctuation">.</span>offsetWidth<span class="token operator">/</span><span class="token number">2</span> <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      oUl<span class="token punctuation">.</span>style<span class="token punctuation">.</span>left <span class="token operator">=</span> oUl<span class="token punctuation">.</span>offsetLeft <span class="token operator">+</span> speed <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
   <span class="token keyword">var</span> timer <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span>move<span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

   <span class="token comment">// 移入</span>
   oDiv<span class="token punctuation">.</span><span class="token function-variable function">onmouseover</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">clearInterval</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span><span class="token punctuation">;</span>

   <span class="token comment">// 移出</span>
   oDiv<span class="token punctuation">.</span><span class="token function-variable function">onmouseout</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      timer <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span>move<span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span><span class="token punctuation">;</span>
   
   <span class="token comment">// 向左走</span>
   document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      speed<span class="token operator">=</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span><span class="token punctuation">;</span>
   
   <span class="token comment">// 向右走</span>
   document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span><span class="token operator">=</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      speed<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>style<span class="token operator">&gt;</span>
<span class="token operator">*</span> <span class="token punctuation">{</span>margin<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span> padding<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
#div1 <span class="token punctuation">{</span>width<span class="token operator">:</span> <span class="token number">712</span>px<span class="token punctuation">;</span> height<span class="token operator">:</span> <span class="token number">108</span>px<span class="token punctuation">;</span> margin<span class="token operator">:</span> <span class="token number">100</span>px auto<span class="token punctuation">;</span> position<span class="token operator">:</span> relative<span class="token punctuation">;</span> background<span class="token operator">:</span> red<span class="token punctuation">;</span> overflow<span class="token operator">:</span> hidden<span class="token punctuation">;</span><span class="token punctuation">}</span>
#div1 ul <span class="token punctuation">{</span>position<span class="token operator">:</span> absolute<span class="token punctuation">;</span> left<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span> top<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
#div1 ul li <span class="token punctuation">{</span>float<span class="token operator">:</span> left<span class="token punctuation">;</span> width<span class="token operator">:</span> <span class="token number">178</span>px<span class="token punctuation">;</span> height<span class="token operator">:</span> <span class="token number">108</span>px<span class="token punctuation">;</span> list<span class="token operator">-</span>style<span class="token operator">:</span> none<span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">&quot;javascript:;&quot;</span><span class="token operator">&gt;</span>向左走<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">&quot;javascript:;&quot;</span><span class="token operator">&gt;</span>向右走<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;div1&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>ul<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span><span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token string">&quot;img2/1.jpg&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span><span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token string">&quot;img2/2.jpg&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span><span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token string">&quot;img2/3.jpg&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span><span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token string">&quot;img2/4.jpg&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
</code></pre></div><h4 id="_3-深拷贝和浅拷贝"><a href="#_3-深拷贝和浅拷贝" class="header-anchor">#</a> 3. 深拷贝和浅拷贝</h4> <h5 id="_1-赋值"><a href="#_1-赋值" class="header-anchor">#</a> (1) 赋值</h5> <p>  对基本类型进行赋值操作，两个变量互不影响。对引用类型进行赋址操作，两个变量指向同一个对象，改变对象a之后会影响对象b，哪怕改变的只是对象a中的基本类型数据。</p> <h5 id="_2-浅拷贝"><a href="#_2-浅拷贝" class="header-anchor">#</a> (2) 浅拷贝</h5> <p>  改变对象a之后，对象b的基本属性保持不变。但是当改变对象 a 中的对象时，对象 b 相应的位置也发生了变化。常用的浅拷贝方式有：let b = {...a};xx.slice()；xx.concat();Object.assign()。</p> <div class="language-js extra-class"><pre class="language-js"><code> <span class="token keyword">var</span> b1<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
 b2<span class="token operator">=</span><span class="token punctuation">[</span><span class="token operator">...</span>b1<span class="token punctuation">]</span>
 b1<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">30</span>  <span class="token comment">//30</span>
 b2<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>    <span class="token comment">//30   </span>
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>         
 <span class="token keyword">var</span> c1<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">{</span>a<span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">]</span>
 c2<span class="token operator">=</span><span class="token punctuation">[</span><span class="token operator">...</span>c1<span class="token punctuation">]</span>
 c1<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>a<span class="token operator">=</span><span class="token number">10</span>    <span class="token comment">//10</span>
 c2<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>a     <span class="token comment">//10</span>
</code></pre></div><h5 id="_3-深拷贝"><a href="#_3-深拷贝" class="header-anchor">#</a> (3) 深拷贝</h5> <p>  完全改变变量 a 之后对 b 没有任何影响，这就是深拷贝的魔力。但是会忽略 undefined、会忽略 symbol、不能序列化函数、不能解决循环引用的对象、不能正确处理new Date()、不能处理正则。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// JSON.parse(JSON.stringify(obj))</span>
 <span class="token keyword">var</span> syb <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'obj'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token keyword">var</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>
          name <span class="token operator">:</span><span class="token string">'tino'</span><span class="token punctuation">,</span>
          <span class="token function-variable function">say</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
             console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'hi'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          ok<span class="token operator">:</span> syb<span class="token punctuation">,</span>
          un<span class="token operator">:</span> <span class="token keyword">undefined</span>
 <span class="token punctuation">}</span>
 <span class="token keyword">var</span> copy <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">// {name: &quot;tino&quot;}</span>
 <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>
 <span class="token comment">// 解决方法</span>
 <span class="token keyword">function</span> <span class="token function">deepCopy</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> result <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> key <span class="token keyword">in</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>obj<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token string">'object'</span> <span class="token operator">&amp;&amp;</span> obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token operator">!==</span><span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          result<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">deepCopy</span><span class="token punctuation">(</span>obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//递归复制</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
          result<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> result<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.3655608f.js" defer></script><script src="/assets/js/2.e83ebbf9.js" defer></script><script src="/assets/js/11.d4ade188.js" defer></script>
  </body>
</html>
