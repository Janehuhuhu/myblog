(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{404:function(t,s,a){t.exports=a.p+"assets/img/url.d4350b15.png"},445:function(t,s,a){"use strict";a.r(s);var e=a(45),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h3",{attrs:{id:"urlé‡å†™"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#urlé‡å†™"}},[t._v("#")]),t._v(" URLé‡å†™")]),t._v(" "),e("hr"),t._v(" "),e("h3",{attrs:{id:"ä»‹ç»"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ä»‹ç»"}},[t._v("#")]),t._v(" ä»‹ç»")]),t._v(" "),e("p",[t._v("urlé‡å†™æ˜¯æŒ‡é€šè¿‡é…ç½®confæ–‡ä»¶ï¼Œä»¥è®©ç½‘ç«™çš„urlä¸­è¾¾åˆ°æŸç§çŠ¶æ€æ—¶åˆ™å®šå‘/è·³è½¬åˆ°æŸä¸ªè§„åˆ™ï¼Œæ¯”å¦‚å¸¸è§çš„ä¼ªé™æ€ã€301é‡å®šå‘ã€åŸŸåå˜æ›´ç­‰\n")]),e("div",{staticStyle:{"margin-top":"50px"}}),e("p"),t._v(" "),e("h3",{attrs:{id:"åŸç†"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#åŸç†"}},[t._v("#")]),t._v(" åŸç†")]),t._v(" "),e("p",[t._v("è®¿é—®nginxæœåŠ¡å™¨åç»™åˆ°æ–°çš„èµ„æºåœ°å€ï¼Œå®¢æˆ·ç«¯å†é‡æ–°è®¿é—®\n"),e("img",{staticStyle:{"margin-top":"20px"},attrs:{src:a(404),width:"400px"}})]),e("div",{staticStyle:{"margin-top":"50px"}}),e("p"),t._v(" "),e("h3",{attrs:{id:"æ¥å…¥æ–¹æ³•"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#æ¥å…¥æ–¹æ³•"}},[t._v("#")]),t._v(" æ¥å…¥æ–¹æ³•")]),t._v(" "),e("ol",[e("li",[e("strong",[t._v("è¯­æ³•")])])]),t._v(" "),e("ul",[e("li",[t._v("è§„åˆ™ï¼šå¯ä»¥æ˜¯å­—ç¬¦ä¸²æˆ–è€…æ­£åˆ™æ¥è¡¨ç¤ºæƒ³åŒ¹é…çš„ç›®æ ‡url")]),t._v(" "),e("li",[t._v("å®šå‘è·¯å¾„ï¼šè¡¨ç¤ºåŒ¹é…åˆ°è§„åˆ™åè¦å®šå‘çš„è·¯å¾„ï¼Œå¦‚æœè§„åˆ™é‡Œæœ‰æ­£åˆ™ï¼Œåˆ™å¯ä»¥ä½¿ç”¨$indexæ¥è¡¨ç¤ºæ­£åˆ™é‡Œçš„æ•è·åˆ†ç»„")]),t._v(" "),e("li",[t._v("é‡å†™ç±»å‹ï¼š\n"),e("ul",[e("li",[t._v("last ï¼šç›¸å½“äºApacheé‡Œå¾·(L)æ ‡è®°ï¼Œè¡¨ç¤ºå®Œæˆrewriteï¼Œæµè§ˆå™¨åœ°å€æ URLåœ°å€ä¸å˜")]),t._v(" "),e("li",[t._v("breakï¼›æœ¬æ¡è§„åˆ™åŒ¹é…å®Œæˆåï¼Œç»ˆæ­¢åŒ¹é…ï¼Œä¸å†åŒ¹é…åé¢çš„è§„åˆ™ï¼Œæµè§ˆå™¨åœ°å€æ URLåœ°å€ä¸å˜")]),t._v(" "),e("li",[t._v("redirectï¼šè¿”å›302ä¸´æ—¶é‡å®šå‘ï¼Œæµè§ˆå™¨åœ°å€ä¼šæ˜¾ç¤ºè·³è½¬åçš„URLåœ°å€ã€‚å¯¹æ—§ç½‘å€æ²¡æœ‰å½±å“ï¼Œä½†æ–°ç½‘å€ä¸ä¼šæœ‰æ’å")]),t._v(" "),e("li",[t._v("permanentï¼šè¿”å›301æ°¸ä¹…é‡å®šå‘ï¼Œæµè§ˆå™¨åœ°å€æ ä¼šæ˜¾ç¤ºè·³è½¬åçš„URLåœ°å€ã€‚æ–°ç½‘å€å®Œå…¨ç»§æ‰¿æ—§ç½‘å€ï¼Œæ—§ç½‘å€çš„æ’åç­‰å®Œå…¨æ¸…é›¶")])])])]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("server "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  rewrite è§„åˆ™ å®šå‘è·¯å¾„ é‡å†™ç±»å‹"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("div",{staticStyle:{"margin-top":"30px"}}),t._v(" "),e("ol",{attrs:{start:"2"}},[e("li",[e("strong",[t._v("lastæ ‡å¿—")])])]),t._v(" "),e("p",[t._v("urlé‡å†™åï¼Œé©¬ä¸Šå‘èµ·ä¸€ä¸ªæ–°çš„è¯·æ±‚ï¼Œå†æ¬¡è¿›å…¥serverå—ï¼Œé‡è¯•locationåŒ¹é…ï¼Œè¶…è¿‡10æ¬¡åŒ¹é…ä¸åˆ°æŠ¥500é”™è¯¯ï¼Œåœ°å€æ urlä¸å˜")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("location "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  rewrite "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("^")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("test1 "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("test2"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  rewrite "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("^")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("test2 "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("test3 last"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  rewrite "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("^")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("test3 "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("test4"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\nlocation "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("test2 "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("401")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\nlocation "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("test3 "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("402")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\nlocation "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("test4 "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("403")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[e("code",[t._v("http://192.168.199.328/test1")]),t._v(" åŒ¹é…åˆ° "),e("code",[t._v("location / {}")]),t._v("åï¼Œè¢«é‡å†™ä¸º"),e("code",[t._v("/test2")]),t._v("ï¼Œé¡ºåºæ‰§è¡Œå†æ¬¡è¢«é‡å†™ä¸º"),e("code",[t._v("/test3")]),t._v("ï¼Œå› ä¸º"),e("code",[t._v("flag")]),t._v("ä¸º"),e("code",[t._v("last")]),t._v("ï¼Œæ‰€ä»¥ä¸ä¼šç»§ç»­é‡å†™ä¸º"),e("code",[t._v("/test4")]),t._v("ï¼Œè€Œæ˜¯å‘èµ·ä¸€æ¬¡locationåŒ¹é…ï¼ŒåŒ¹é…åˆ°"),e("code",[t._v("location /test3{}")]),t._v("ï¼Œæ‰€ä»¥æœ€ç»ˆè¿”å›ç»“æœä¸º402;")]),t._v(" "),e("p",[t._v("å¦‚æœæŠŠ"),e("code",[t._v("location /{}")]),t._v("ä¸­çš„"),e("code",[t._v("last")]),t._v("æ”¹ä¸º"),e("code",[t._v("break")]),t._v("ï¼Œè¢«é‡å†™ä¸º"),e("code",[t._v("/test3")]),t._v("åï¼Œä¸å†é‡å†™ä¸º"),e("code",[t._v("/test4")]),t._v("ï¼Œä¹Ÿä¸ä¼šå‘èµ·"),e("code",[t._v("location")]),t._v("ï¼Œæœ€ç»ˆæ²¡æœ‰å¯åŒ¹é…çš„èµ„æºï¼Œè¿”å›"),e("code",[t._v("http")]),t._v("404ã€‚\n")]),e("div",{staticStyle:{"margin-top":"30px"}}),e("p"),t._v(" "),e("ol",{attrs:{start:"3"}},[e("li",[e("strong",[t._v("breakæ ‡å¿—")])])]),t._v(" "),e("p",[t._v("ç”¨äºåœæ­¢æ‰§è¡Œrewriteæ¨¡å—çš„æŒ‡ä»¤ï¼Œä½†æ˜¯å…¶ä»–æ¨¡å—ä¸å—å½±å“")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v(" location "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("$http_user_agent "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("~")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Chrome'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("break")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("403")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  rewrite "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("^")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("$ http"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("www"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cnblogs"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com permanent "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("å¦‚æœæµè§ˆå™¨æ˜¯"),e("code",[t._v("chrome")]),t._v("æµè§ˆå™¨åˆ™è¿”å›403,ä½†è¿™é‡ŒåŠ äº†"),e("code",[t._v("break")]),t._v(",å°±ä¸ä¼šæ‰§è¡Œ"),e("code",[t._v("return 403")]),t._v("ï¼Œè¿”å›é»˜è®¤çš„"),e("code",[t._v("index")]),t._v(",\nï¼Œä¹Ÿä¸ä¼šè¿”å›åšå®¢å›­\n")]),e("div",{staticStyle:{"margin-top":"30px"}}),e("p"),t._v(" "),e("ol",{attrs:{start:"4"}},[e("li",[e("strong",[t._v("return")])])]),t._v(" "),e("p",[t._v("å¦‚æœæµè§ˆå™¨æ˜¯"),e("code",[t._v("chrome")]),t._v("æµè§ˆå™¨åˆ™è¿”å›403ï¼Œå…¶ä»–æµè§ˆå™¨è¿”å›åšå®¢å›­ç½‘å€")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("location "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  root html"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  index index"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("html index"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("htm"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("$http_user_agent "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("~")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Chrome'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("403")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  rewrite "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("^")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("$ http"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("www"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cnblogs"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com permanent "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("div",{staticStyle:{"margin-top":"30px"}}),t._v(" "),e("ol",{attrs:{start:"5"}},[e("li",[e("strong",[t._v("ifè¯­å¥")])])]),t._v(" "),e("ul",[e("li",[t._v("åŒ¹é…ç¬¦å·ï¼š\n"),e("ul",[e("li",[t._v("~åŒºåˆ†å¤§å°å†™æ­£åˆ™åŒ¹é…ï¼›")]),t._v(" "),e("li",[t._v("~*ä¸åŒºåˆ†å¤§å°å†™æ­£åˆ™åŒ¹é…ï¼›")]),t._v(" "),e("li",[t._v("!~åŒºåˆ†å¤§å°å†™æ­£åˆ™ä¸åŒ¹é…ï¼›")]),t._v(" "),e("li",[t._v("!~*ä¸åŒºåˆ†å¤§å°å†™æ­£åˆ™ä¸åŒ¹é…ï¼›")]),t._v(" "),e("li",[t._v("ç›´æ¥æ¯”è¾ƒå˜é‡å’Œå†…å®¹æ—¶ï¼Œä½¿ç”¨=æˆ–!=")])])])]),t._v(" "),e("p",[t._v("â€‹- è¿ç®—ç¬¦ï¼š")]),t._v(" "),e("ul",[e("li",[t._v("ä½¿ç”¨â€œ -fâ€å’Œâ€œ !-fâ€è¿ç®—ç¬¦æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨;")]),t._v(" "),e("li",[t._v("ä½¿ç”¨â€œ -dâ€å’Œâ€œ !-dâ€è¿ç®—ç¬¦æ£€æŸ¥ç›®å½•æ˜¯å¦å­˜åœ¨;")]),t._v(" "),e("li",[t._v("ä½¿ç”¨â€œ -eâ€å’Œâ€œ !-eâ€è¿ç®—ç¬¦æ£€æŸ¥æ–‡ä»¶ï¼Œç›®å½•æˆ–ç¬¦å·é“¾æ¥æ˜¯å¦å­˜åœ¨;")]),t._v(" "),e("li",[t._v("ä½¿ç”¨â€œ -xâ€å’Œâ€œ !-xâ€è¿ç®—ç¬¦æ£€æŸ¥å¯æ‰§è¡Œæ–‡ä»¶ã€‚")])]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("server "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  # å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨åˆ™è¿”å›"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("400")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("f $request_filename"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("400")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    \n  #å¦‚æœæµè§ˆå™¨æ˜¯chromeæµè§ˆå™¨åˆ™è¿”å›"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("403")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("$http_user_agent "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("~")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Chrome'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("403")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    #"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" http"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("www"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cnblogs"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    \n  # å¦‚æœè¯·æ±‚ç±»å‹ä¸æ˜¯"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("POST")]),t._v("åˆ™è¿”å›"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("405")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("$request_method "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("POST")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("405")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    \n  # å¦‚æœå‚æ•°ä¸­æœ‰ a"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" åˆ™"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("301")]),t._v("åˆ°æŒ‡å®šåŸŸå\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("$args "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("~")]),t._v(" a"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    rewrite "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("^")]),t._v(" http"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("example"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" permanent"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("details",{staticClass:"custom-block details"},[e("summary",[t._v("å†…ç½®é¢„å®šä¹‰å˜é‡")]),t._v(" "),e("ul",[e("li",[t._v("$arg_PARAMETER  GETè¯·æ±‚ä¸­å˜é‡åPARAMETERå‚æ•°çš„å€¼ã€‚")]),t._v(" "),e("li",[t._v("$args   è¿™ä¸ªå˜é‡ç­‰äºGETè¯·æ±‚ä¸­çš„å‚æ•°ã€‚ä¾‹å¦‚ï¼Œfoo=123&bar=blahblah;è¿™ä¸ªå˜é‡åªå¯ä»¥è¢«ä¿®æ”¹")]),t._v(" "),e("li",[t._v("$binary_remote_addr äºŒè¿›åˆ¶ç å½¢å¼çš„å®¢æˆ·ç«¯åœ°å€ã€‚")]),t._v(" "),e("li",[t._v("$body_bytes_sent    ä¼ é€é¡µé¢çš„å­—èŠ‚æ•°")]),t._v(" "),e("li",[t._v("$content_length è¯·æ±‚å¤´ä¸­çš„Content-lengthå­—æ®µã€‚")]),t._v(" "),e("li",[t._v("$content_type   è¯·æ±‚å¤´ä¸­çš„Content-Typeå­—æ®µã€‚")]),t._v(" "),e("li",[t._v("$cookie_COOKIE  cookie COOKIEçš„å€¼ã€‚")]),t._v(" "),e("li",[t._v("$document_root  å½“å‰è¯·æ±‚åœ¨rootæŒ‡ä»¤ä¸­æŒ‡å®šçš„å€¼ã€‚")]),t._v(" "),e("li",[t._v("$document_uri   ä¸$uriç›¸åŒã€‚")]),t._v(" "),e("li",[t._v("$host   è¯·æ±‚ä¸­çš„ä¸»æœºå¤´(Host)å­—æ®µï¼Œå¦‚æœè¯·æ±‚ä¸­çš„ä¸»æœºå¤´ä¸å¯ç”¨æˆ–è€…ç©ºï¼Œåˆ™ä¸ºå¤„ç†è¯·æ±‚çš„serveråç§°(å¤„ç†è¯·æ±‚çš„serverçš„server_nameæŒ‡ä»¤çš„å€¼)ã€‚å€¼ä¸ºå°å†™ï¼Œä¸åŒ…å«ç«¯å£ã€‚")]),t._v(" "),e("li",[t._v("$hostname   æœºå™¨åä½¿ç”¨ gethostnameç³»ç»Ÿè°ƒç”¨çš„å€¼")]),t._v(" "),e("li",[t._v("$http_HEADER    HTTPè¯·æ±‚å¤´ä¸­çš„å†…å®¹ï¼ŒHEADERä¸ºHTTPè¯·æ±‚ä¸­çš„å†…å®¹è½¬ä¸ºå°å†™ï¼Œ-å˜ä¸º_(ç ´æŠ˜å·å˜ä¸ºä¸‹åˆ’çº¿)ï¼Œä¾‹å¦‚ï¼š$http_user_agent(Uaer-Agentçš„å€¼);")]),t._v(" "),e("li",[t._v("$http_user_agent ï¼š å®¢æˆ·ç«¯agentä¿¡æ¯;")]),t._v(" "),e("li",[t._v("$http_cookie ï¼š å®¢æˆ·ç«¯cookieä¿¡æ¯;")]),t._v(" "),e("li",[t._v("$sent_http_HEADER   HTTPå“åº”å¤´ä¸­çš„å†…å®¹ï¼ŒHEADERä¸ºHTTPå“åº”ä¸­çš„å†…å®¹è½¬ä¸ºå°å†™ï¼Œ-å˜ä¸º_(ç ´æŠ˜å·å˜ä¸ºä¸‹åˆ’çº¿)ï¼Œä¾‹å¦‚ï¼š $sent_http_cache_control, $sent_http_content_typeâ€¦;")]),t._v(" "),e("li",[t._v('$is_args    å¦‚æœ$argsè®¾ç½®ï¼Œå€¼ä¸º"?"ï¼Œå¦åˆ™ä¸º""ã€‚')]),t._v(" "),e("li",[t._v("$limit_rate è¿™ä¸ªå˜é‡å¯ä»¥é™åˆ¶è¿æ¥é€Ÿç‡ã€‚")]),t._v(" "),e("li",[t._v("$nginx_version  å½“å‰è¿è¡Œçš„nginxç‰ˆæœ¬å·ã€‚")]),t._v(" "),e("li",[t._v("$query_string   ä¸$argsç›¸åŒã€‚")]),t._v(" "),e("li",[t._v("$remote_addr    å®¢æˆ·ç«¯çš„IPåœ°å€ã€‚")]),t._v(" "),e("li",[t._v("$remote_port    å®¢æˆ·ç«¯çš„ç«¯å£ã€‚")]),t._v(" "),e("li",[t._v("$remote_user    å·²ç»ç»è¿‡Auth Basic ModuleéªŒè¯çš„ç”¨æˆ·åã€‚")]),t._v(" "),e("li",[t._v("$request_filename   å½“å‰è¿æ¥è¯·æ±‚çš„æ–‡ä»¶è·¯å¾„ï¼Œç”±rootæˆ–aliasæŒ‡ä»¤ä¸URIè¯·æ±‚ç”Ÿæˆã€‚")]),t._v(" "),e("li",[t._v("$request_body   è¿™ä¸ªå˜é‡ï¼ˆ0.7.58+ï¼‰åŒ…å«è¯·æ±‚çš„ä¸»è¦ä¿¡æ¯ã€‚åœ¨ä½¿ç”¨proxy_passæˆ–fastcgi_passæŒ‡ä»¤çš„locationä¸­æ¯”è¾ƒæœ‰æ„ä¹‰ã€‚")]),t._v(" "),e("li",[t._v("$request_body_file  å®¢æˆ·ç«¯è¯·æ±‚ä¸»ä½“ä¿¡æ¯çš„ä¸´æ—¶æ–‡ä»¶åã€‚")]),t._v(" "),e("li",[t._v('$request_completion å¦‚æœè¯·æ±‚æˆåŠŸï¼Œè®¾ä¸º"OK"ï¼›å¦‚æœè¯·æ±‚æœªå®Œæˆæˆ–è€…ä¸æ˜¯ä¸€ç³»åˆ—è¯·æ±‚ä¸­æœ€åä¸€éƒ¨åˆ†åˆ™è®¾ä¸ºç©ºã€‚')]),t._v(" "),e("li",[t._v("$request_method è¿™ä¸ªå˜é‡æ˜¯å®¢æˆ·ç«¯è¯·æ±‚çš„åŠ¨ä½œï¼Œé€šå¸¸ä¸ºGETæˆ–POSTã€‚åŒ…æ‹¬0.8.20åŠä¹‹å‰çš„ç‰ˆæœ¬ä¸­ï¼Œè¿™ä¸ªå˜é‡æ€»ä¸ºmain requestä¸­çš„åŠ¨ä½œï¼Œå¦‚æœå½“å‰è¯·æ±‚æ˜¯ä¸€ä¸ªå­è¯·æ±‚ï¼Œå¹¶ä¸ä½¿ç”¨è¿™ä¸ªå½“å‰è¯·æ±‚çš„åŠ¨ä½œã€‚")]),t._v(" "),e("li",[t._v("$request_uri    è¿™ä¸ªå˜é‡ç­‰äºåŒ…å«ä¸€äº›å®¢æˆ·ç«¯è¯·æ±‚å‚æ•°çš„åŸå§‹URIï¼Œå®ƒæ— æ³•ä¿®æ”¹ï¼Œè¯·æŸ¥çœ‹$uriæ›´æ”¹æˆ–é‡å†™URI,\nåŒ…å«è¯·æ±‚å‚æ•°çš„åŸå§‹URIï¼Œä¸åŒ…å«ä¸»æœºåï¼Œå¦‚ï¼šâ€/foo/bar.php?arg=bazâ€ã€‚")]),t._v(" "),e("li",[t._v("$scheme æ‰€ç”¨çš„åè®®ï¼Œæ¯”å¦‚httpæˆ–è€…æ˜¯httpsï¼Œæ¯”å¦‚rewrite ^(.+)$ $scheme://example.com$1 redirect;")]),t._v(" "),e("li",[t._v("$server_addr    æœåŠ¡å™¨åœ°å€ï¼Œåœ¨å®Œæˆä¸€æ¬¡ç³»ç»Ÿè°ƒç”¨åå¯ä»¥ç¡®å®šè¿™ä¸ªå€¼ï¼Œå¦‚æœè¦ç»•å¼€ç³»ç»Ÿè°ƒç”¨ï¼Œåˆ™å¿…é¡»åœ¨listenä¸­æŒ‡å®šåœ°å€å¹¶ä¸”ä½¿ç”¨bindå‚æ•°ã€‚")]),t._v(" "),e("li",[t._v("$server_name    æœåŠ¡å™¨åç§°ã€‚")]),t._v(" "),e("li",[t._v("$server_port    è¯·æ±‚åˆ°è¾¾æœåŠ¡å™¨çš„ç«¯å£å·ã€‚")]),t._v(" "),e("li",[t._v("$server_protocol    è¯·æ±‚ä½¿ç”¨çš„åè®®ï¼Œé€šå¸¸æ˜¯HTTP/1.0æˆ–HTTP/1.1ã€‚")]),t._v(" "),e("li",[t._v("$uri    è¯·æ±‚ä¸­çš„å½“å‰URI(ä¸å¸¦è¯·æ±‚å‚æ•°ï¼Œå‚æ•°ä½äºargs)ï¼Œä¸åŒäºæµè§ˆå™¨ä¼ é€’çš„args)ï¼Œä¸åŒäºæµè§ˆå™¨ä¼ é€’çš„args)ï¼Œä¸åŒäºæµè§ˆå™¨ä¼ é€’çš„request_uriçš„å€¼ï¼Œå®ƒå¯ä»¥é€šè¿‡å†…éƒ¨é‡å®šå‘ï¼Œæˆ–è€…ä½¿ç”¨indexæŒ‡ä»¤è¿›è¡Œä¿®æ”¹ã€‚")])])]),t._v(" "),e("div",{staticStyle:{"margin-top":"30px"}}),t._v(" "),e("ol",{attrs:{start:"6"}},[e("li",[e("strong",[t._v("setè®¾ç½®å˜é‡")])])]),t._v(" "),e("p",[t._v("è®¿é—®ä¸»æœº"),e("code",[t._v("ip")]),t._v("æœ¬æ¥åº”è¯¥è¿›å…¥"),e("code",[t._v("http://www.cnblogs.com")]),t._v("  é‡å†™ä¸º "),e("code",[t._v("http://www.cnblogs.com/Nicholas0707")])]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("location "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set")]),t._v(" $name Nicholas0707"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  rewrite "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("^")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("$ http"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("www"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cnblogs"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("$name"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("div",{staticStyle:{"margin-top":"50px"}}),t._v(" "),e("h3",{attrs:{id:"ğŸ”—ç›¸å…³é“¾æ¥"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ”—ç›¸å…³é“¾æ¥"}},[t._v("#")]),t._v(" ğŸ”—ç›¸å…³é“¾æ¥")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://www.cnblogs.com/Nicholas0707/p/12210551.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("URLé‡å†™ä»‹ç»"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://www.zutuanxue.com/home/4/54_284",target:"_blank",rel:"noopener noreferrer"}},[t._v("ç»„å›¢å­¦"),e("OutboundLink")],1)])])])}),[],!1,null,null,null);s.default=n.exports}}]);